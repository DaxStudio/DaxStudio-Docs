"use strict";(self.webpackChunkdaxstudio_docusaurus=self.webpackChunkdaxstudio_docusaurus||[]).push([[4337],{3905:(e,t,r)=>{r.d(t,{Zo:()=>p,kt:()=>f});var a=r(67294);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},l=Object.keys(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var s=a.createContext({}),u=function(e){var t=a.useContext(s),r=t;return e&&(r="function"==typeof e?e(t):o(o({},t),e)),r},p=function(e){var t=u(e.components);return a.createElement(s.Provider,{value:t},e.children)},c="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},h=a.forwardRef((function(e,t){var r=e.components,n=e.mdxType,l=e.originalType,s=e.parentName,p=i(e,["components","mdxType","originalType","parentName"]),c=u(r),h=n,f=c["".concat(s,".").concat(h)]||c[h]||d[h]||l;return r?a.createElement(f,o(o({ref:t},p),{},{components:r})):a.createElement(f,o({ref:t},p))}));function f(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var l=r.length,o=new Array(l);o[0]=h;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i[c]="string"==typeof e?e:n,o[1]=i;for(var u=2;u<l;u++)o[u]=r[u];return a.createElement.apply(null,o)}return a.createElement.apply(null,r)}h.displayName="MDXCreateElement"},51913:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>d,frontMatter:()=>l,metadata:()=>i,toc:()=>u});var a=r(87462),n=(r(67294),r(3905));const l={title:"All Queries Trace"},o=void 0,i={unversionedId:"features/traces/all-queries-trace",id:"features/traces/all-queries-trace",title:"All Queries Trace",description:"Tracing requires server admin rights, if you do not have these the trace buttons will be disabled",source:"@site/docs/features/traces/all-queries-trace.md",sourceDirName:"features/traces",slug:"/features/traces/all-queries-trace",permalink:"/docs/features/traces/all-queries-trace",draft:!1,tags:[],version:"current",frontMatter:{title:"All Queries Trace"},sidebar:"tutorialSidebar",previous:{title:"Traces",permalink:"/docs/category/traces"},next:{title:"EvaluateAndLog Trace",permalink:"/docs/features/traces/evaluateandlog-trace"}},s={},u=[],p={toc:u},c="wrapper";function d(e){let{components:t,...l}=e;return(0,n.kt)(c,(0,a.Z)({},p,l,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("admonition",{type:"tip"},(0,n.kt)("p",{parentName:"admonition"},"Tracing requires server admin rights, if you do not have these the trace buttons will be disabled")),(0,n.kt)("p",null,"The All Queries trace in Dax Studio supports capturing the query events from all client tools (not just queries sent from DAX Studio like the ",(0,n.kt)("a",{parentName:"p",href:"../query-plan-trace"},"Query Plan")," and ",(0,n.kt)("a",{parentName:"p",href:"../server-timings-trace"},"Server Timings")," features do). "),(0,n.kt)("p",null,"The 'All Queries\" trace is really useful when you wish to see the queries that are generated by a client tool like Power BI Desktop. "),(0,n.kt)("p",null,"The following window shows a list of queries generated by clicking on some slicers in report in Power BI Desktop."),(0,n.kt)("p",null,(0,n.kt)("img",{src:r(49002).Z,width:"882",height:"401"})),(0,n.kt)("p",null,"If you find a query that you wish to examine further you can double click on the query to copy it up to the editor."),(0,n.kt)("p",null,(0,n.kt)("img",{src:r(46014).Z,width:"883",height:"527"})),(0,n.kt)("p",null,"Because the All Queries trace can capture a lot of events you may find it helpful to use the filter option to help find specific queries."),(0,n.kt)("p",null,(0,n.kt)("img",{src:r(47249).Z,width:"880",height:"235"})),(0,n.kt)("p",null,"At the top of the All Queries tab is a small toolbar"),(0,n.kt)("p",null,(0,n.kt)("img",{src:r(98251).Z,width:"159",height:"22"})),(0,n.kt)("p",null,"From left to right these buttons are as follows:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},(0,n.kt)("strong",{parentName:"th"},"Button")),(0,n.kt)("th",{parentName:"tr",align:null},(0,n.kt)("strong",{parentName:"th"},"Description")))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"Record"),(0,n.kt)("td",{parentName:"tr",align:null},"will start or resume a paused / stopped trace")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"Pause"),(0,n.kt)("td",{parentName:"tr",align:null},"will temporarily pause the current trace")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"Stop"),(0,n.kt)("td",{parentName:"tr",align:null},"will stop the current trace (the captured events will remain in the output window)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"Delete"),(0,n.kt)("td",{parentName:"tr",align:null},"will clear all the captured events")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"Copy to Editor"),(0,n.kt)("td",{parentName:"tr",align:null},"will copy the content of the currently highlighted query to the edit pane")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"Show Filters"),(0,n.kt)("td",{parentName:"tr",align:null},"will show/hide the filter controls")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"Clear Filters"),(0,n.kt)("td",{parentName:"tr",align:null},"will clear any currently set filters")))),(0,n.kt)("h1",{id:"power-bi-desktop-caching"},"Power BI Desktop caching"),(0,n.kt)("p",null,"When connecting the ",(0,n.kt)("em",{parentName:"p"},"All Queries")," trace to to Power BI you need to be aware that Power BI has it's own level of internal caching. At a very high level it looks something like the following:"),(0,n.kt)("p",null,(0,n.kt)("img",{src:r(92789).Z,width:"1051",height:"638"})),(0,n.kt)("p",null,"What this means is that if a visual has already rendered before DAX Studio has connected you will normally not capture any queries unless you do something like changing a filter or crossfiltering so that you are requesting different data to that which has been stored in the ",(0,n.kt)("em",{parentName:"p"},"Visual")," level cache."),(0,n.kt)("p",null,"So the recommended procedure when attempting to performance profile the DAX queries from a Power BI report is to do the following:"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"Navigate to a blank page (or create a new blank page)"),(0,n.kt)("li",{parentName:"ol"},"Save Power BI Desktop (with the blank page selected)"),(0,n.kt)("li",{parentName:"ol"},"Close Power BI Desktop"),(0,n.kt)("li",{parentName:"ol"},"Open the file in Power BI Desktop (there should be a blank page)"),(0,n.kt)("li",{parentName:"ol"},"Connect DAX Studio to Power BI Desktop"),(0,n.kt)("li",{parentName:"ol"},"Start an ",(0,n.kt)("em",{parentName:"li"},"All Queries")," Trace in Dax Studio"),(0,n.kt)("li",{parentName:"ol"},"Switch to Power BI Desktop"),(0,n.kt)("li",{parentName:"ol"},"Move to one of more of the other non-blank pages. ")),(0,n.kt)("p",null,"At this point, DAX Studio should show you all the queries."))}d.isMDXComponent=!0},46014:(e,t,r)=>{r.d(t,{Z:()=>a});const a=r.p+"assets/images/all-queries-copy-to-editor-824bfc1b5ea080e1af3b9b3123bf4ab9.png"},47249:(e,t,r)=>{r.d(t,{Z:()=>a});const a=r.p+"assets/images/all-queries-filters-d435a9062682a89cf5db4fe8bc553074.png"},98251:(e,t,r)=>{r.d(t,{Z:()=>a});const a="data:image/png;base64,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"},49002:(e,t,r)=>{r.d(t,{Z:()=>a});const a=r.p+"assets/images/all-queries-trace-224dddfbd6a5ffc1cb3f418f217f0d30.png"},92789:(e,t,r)=>{r.d(t,{Z:()=>a});const a=r.p+"assets/images/power-bi-caches-2a45ba274fe4ec97c476502a44f8114b.png"}}]);